{"version":3,"sources":["../../../../server/api/animals/animals.controller.js"],"names":[],"mappings":"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","file":"animals.controller.js","sourcesContent":["/**\n * GET     /api/animal              ->  index\n * POST    /api/animal              ->  create\n * GET     /api/animal/:id          ->  show\n * PUT     /api/animal/:id          ->  update\n * DELETE  /api/animal/:id          ->  destroy\n */\n\n'use strict';\n\nimport _ from 'lodash'\nimport Animals from './animals.model'\n\nfunction respondWithResult(res, statusCode) {\n    statusCode = statusCode || 200\n    return function(entity) {\n        if (entity) {\n            res.status(statusCode).json(entity)\n        }\n    }\n}\n\nfunction saveUpdates(updates) {\n    return function(entity) {\n        var updated = _.merge(entity, updates)\n        return updated.save()\n            .then(updated => {\n                return updated\n            })\n    }\n}\n\nfunction removeEntity(res) {\n    return function(entity) {\n        if (entity) {\n            return entity.remove()\n                .then(() => {\n                    res.status(204).end()\n                })\n        }\n    }\n}\n\nfunction handleEntityNotFound(res) {\n    return function(entity) {\n        if (!entity) {\n            res.status(404).end() \n            return null\n        }\n        return entity\n    }\n}\n\nfunction handleError(res, statusCode) {\n    statusCode = statusCode || 500\n    return function(err) {\n        res.status(statusCode).send(err)\n    }\n}\n\n// Gets a list of Animalss\nexport function index(req, res) {\n    return Animals.find().exec()\n        .then(respondWithResult(res))\n        .catch(handleError(res))\n}\n\n// Gets a single Animals from the DB\nexport function show(req, res) {\n    return Animals.findById(req.params.id).exec()\n        .then(handleEntityNotFound(res))\n        .then(respondWithResult(res))\n        .catch(handleError(res))\n}\n\n// Creates a new Animals in the DB\nexport function create(req, res) {\n    console.log('creating')\n    return Animals.create(req.body)\n        .then(respondWithResult(res, 201))\n        .catch(handleError(res))\n}\n\n// Updates an existing Animals in the DB\nexport function update(req, res) {\n    if (req.body._id) {\n        delete req.body._id\n    }\n    return Animals.findById(req.params.id).exec()\n        .then(handleEntityNotFound(res))\n        .then(saveUpdates(req.body))\n        .then(respondWithResult(res))\n        .catch(handleError(res))\n}\n\n// Deletes a Animals from the DB\nexport function destroy(req, res) {\n    return Animals.findById(req.params.id).exec()\n        .then(handleEntityNotFound(res))\n        .then(removeEntity(res))\n        .catch(handleError(res))\n}\n"]}